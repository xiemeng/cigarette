{"version":3,"sources":["webpack:///src/page/home/banner.vue","webpack:///./src/api/banner.js","webpack:///./src/page/home/banner.vue?eb01","webpack:///./src/page/home/banner.vue"],"names":["error1","__webpack_require__","banner","name","data","total","totalsPage","pageSize","currentPage","enter","weixinName","sex","options","value","label","tableData","form","created","mounted","this","JSON","parse","localStorage","getItem","init","methods","ID","_this","param","pageIndex","nicknameLike","sessionId","service","url","method","headers","then","res","console","log","bussData","count","pageCount","search","exportExcel","_this2","responseType","fileDownload","catch","error","$message","showClose","message","type","errorImg","$event","event","srcElement","src","toLink","i","$router","push","path","handleEdit","index","row","query","weixinUserId","id","handleSizeChange","val","handleCurrentChange","disposeDate","date","map","item","model","join","fileName","blob","Blob","filename","window","navigator","msSaveBlob","blobURL","URL","createObjectURL","tempLink","document","createElement","style","display","href","setAttribute","download","body","appendChild","click","removeChild","revokeObjectURL","home_banner","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","separator","separator-class","size","plain","on","_v","gutter","span","staticStyle","line-height","placeholder","callback","$$v","expression","_l","key","stripe","default-sort","prop","order","scopedSlots","_u","fn","scope","headimgurl","_s","nickname","age","sortable","startTime","intervalDays","deviceNum","deviceHistories","lastUseTime","city","$index","current-page","page-sizes","page-size","layout","size-change","current-change","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/15.1f5b4dc068647aa91559.js","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<div class=\"w-100 h-100 p-15\">\r\n\t\t\t<el-breadcrumb separator=\"/\" separator-class=\"el-icon-arrow-right\" class=\"p-15 b-b-f0\">\r\n\t\t\t\t<el-button class=\"right\" size=\"mini\" plain @click=\"exportExcel\">导出数据</el-button>\r\n\t\t\t\t<el-breadcrumb-item>用户管理</el-breadcrumb-item>\r\n\t\t\t</el-breadcrumb>\r\n\r\n\t\t\t<div class=\"w-100 p-15\">\r\n\t\t\t\t<el-row :gutter=\"20\">\r\n\t\t\t\t\t<el-col :span=\"6\">\r\n\t\t\t\t\t\t<div class=\"flex w-100\"><em class=\"nowrap\" style=\"line-height: 40px;\">微信名：</em>\r\n\t\t\t\t\t\t\t<el-input placeholder=\"请输入\" v-model=\"weixinName\"></el-input>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"6\">\r\n\t\t\t\t\t\t<div class=\"flex w-100\"><em class=\"nowrap\" style=\"line-height: 40px;\">性别：</em>\r\n\t\t\t\t\t\t\t<el-select v-model=\"sex\" placeholder=\"请选择\">\r\n\t\t\t\t\t\t\t\t<el-option v-for=\"item in options\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n\t\t\t\t\t\t\t\t</el-option>\r\n\t\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"6\">\r\n\t\t\t\t\t\t<el-button @click=\"search\">查询</el-button>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t</div>\r\n\r\n\t\t\t<el-table \r\n\t\t\t\t:data=\"tableData\" stripe  \r\n\t\t\t\t:default-sort = \"{prop: 'startTime', order: 'descending'}\" \r\n\t\t\t\tclass=\"w-100 p-15\">\r\n\t\t\t\t<el-table-column label=\"头像\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<img :src=\"scope.row.headimgurl\" @error=\"errorImg\" />\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column label=\"微信名\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t{{ scope.row.nickname }}\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column label=\"年龄\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t{{ scope.row.age }}\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column label=\"性别\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t{{ scope.row.sex ==1?'男':'女' }}\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column label=\"设备激活日期\" sortable>\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t{{ scope.row.startTime+'('+scope.row.intervalDays+'天)'}}\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column label=\"设备数\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t{{ scope.row.deviceNum  }}\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column label=\"设备型号\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t{{ disposeDate(scope.row.deviceHistories) }}\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column label=\"最后一次使用设备\" sortable>\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t{{ scope.row.lastUseTime+'('+scope.row.city+')' }}\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column label=\"操作\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<el-button class=\"elbut\" size=\"mini\" @click=\"handleEdit(scope.$index, scope.row)\">详情</el-button>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t</el-table>\r\n\t\t\t<div class=\"text-center p-t-30\">\r\n\t\t\t\t<el-pagination \r\n\t\t\t\t\t@size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" \r\n\t\t\t\t\t:current-page=\"data.currentPage\" :page-sizes=\"[10, 20, 30, 40]\" \r\n\t\t\t\t\t:page-size=\"data.pageSize\" layout=\"total,slot, sizes, prev, pager, next, jumper\" \r\n\t\t\t\t\t:total=\"total\">\r\n                        <span>第{{data.currentPage}} / {{totalsPage}}页</span>\r\n                </el-pagination>\r\n\t\t\t</div>\r\n\r\n\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\tvar error1 = require('@/assets/imgs/people.png')\r\n\timport {bannerPage,bannerDetail,exportBannerExcel} from \"@/api/banner\";\r\n\texport default {\r\n\t\tname: \"column\",\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttotal:0,  // 总数据条数\r\n\t\t\t\ttotalsPage:0, // 总分页数\r\n\t\t\t\tdata:{  // 分页 相关信息\r\n\t\t\t\t\tpageSize:10,\r\n\t\t\t\t\tcurrentPage:1,\r\n\t\t\t\t},\r\n\t\t\t\tenter:{},// 登录信息\r\n\t\t\t\tweixinName:'',// 微信名字\r\n\t\t\t\tsex: 0, // 性别\r\n\t\t\t\toptions: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue: 0,\r\n\t\t\t\t\t\tlabel: '全部'\r\n\t\t\t\t\t},{\r\n\t\t\t\t\t\tvalue: 1,\r\n\t\t\t\t\t\tlabel: '男'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue: 2,\r\n\t\t\t\t\t\tlabel: '女'\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t\ttableData: [], // 列表数据\r\n\t\t\t\tform: {\r\n\t\t\t\t\tname: ''\r\n\t\t\t\t}\r\n\r\n\t\t\t};\r\n\t\t},\r\n\t\tcreated() {},\r\n\t\tmounted() {\r\n\t\t\tthis.enter = JSON.parse(localStorage.getItem(\"enter\"));\r\n\t\t\tthis.init();\r\n\t\t\t\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tinit(){\r\n\t\t\t\tconst param = {\r\n\t\t\t\t\t  \"pageIndex\": this.data.currentPage,\r\n\t\t\t\t\t  \"pageSize\": this.data.pageSize,\r\n\t\t\t\t\t}\r\n\t\t\t\tif(this.weixinName){\r\n\t\t\t\t\tparam.nicknameLike = this.weixinName\r\n\t\t\t\t}\r\n\t\t\t\tif(this.sex){\r\n\t\t\t\t\tparam.sex = this.sex;\r\n\t\t\t\t}\r\n\t\t\t\tbannerPage(param,this.enter.sessionId).then((res)=>{\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tthis.tableData = res.bussData;\r\n\t\t\t\t\tthis.total = res.count;\r\n\t\t\t\t\tthis.totalsPage = res.pageCount;\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsearch(){  // 搜索\r\n\t\t\t\tthis.init()\r\n\t\t\t},\r\n\t\t\texportExcel(){  // 导出数据\r\n\t\t\t\tconst param = {\r\n\t\t\t\t\t  \"pageIndex\": this.data.currentPage,\r\n\t\t\t\t\t  \"pageSize\": this.data.pageSize,\r\n\t\t\t\t\t}\r\n\t\t\t\tif(this.weixinName){\r\n\t\t\t\t\tparam.nicknameLike = this.weixinName\r\n\t\t\t\t}\r\n\t\t\t\tif(this.sex){\r\n\t\t\t\t\tparam.sex = this.sex;\r\n\t\t\t\t}\r\n\t\t\t\texportBannerExcel(param,this.enter.sessionId).then((res)=>{\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tconst filename = '微信用户列表.xlsx'\r\n\t\t\t\t\tthis.fileDownload(res, filename)\r\n\t\t\t\t}).catch((error)=>{\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\tshowClose: true,\r\n\t\t\t\t\t\tmessage: error,\r\n\t\t\t\t\t\ttype: 'error'\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\terrorImg($event){  // 图片错误加载的默认图\r\n\t\t\t\tevent.srcElement.src = error1\r\n\t\t\t},\r\n\t\t\ttoLink(i) {\r\n\t\t\t\tthis.$router.push({\r\n\t\t\t\t\tpath: i\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\thandleEdit(index,row) {  // 详情\r\n\t\t\t\tthis.$router.push({\r\n\t\t\t\t\tpath: '/home/userDetail',\r\n\t\t\t\t\tquery:{weixinUserId:row.id}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\thandleSizeChange(val) {\r\n\t\t\t\tthis.data.pageSize = val\r\n\t\t\t\tthis.init()\r\n\t\t\t},\r\n\t\t\thandleCurrentChange(val) {\r\n\t\t\t\tthis.data.currentPage = val\r\n\t\t\t\tthis.init()\r\n\t\t\t},\r\n\t\t\tdisposeDate(date){  // 处理数据\r\n\t\t\t\tlet value = date.map((item)=>{\r\n\t\t\t\t\treturn item.model\r\n\t\t\t\t})\r\n\t\t\t\treturn value.join(' ');\r\n\t\t\t},\r\n\t\t\tfileDownload(data, fileName) {\r\n\t            const blob = new Blob([data], {\r\n\t                type: 'application/octet-stream'\r\n\t            })\r\n\t           \r\n\t            const filename = fileName || 'filename.xlsx'\r\n\t            if (typeof window.navigator.msSaveBlob !== 'undefined') {\r\n\t                window.navigator.msSaveBlob(blob, filename)\r\n\t            } else {\r\n\t                var blobURL = window.URL.createObjectURL(blob)\r\n\t                var tempLink = document.createElement('a')\r\n\t                tempLink.style.display = 'none'\r\n\t                tempLink.href = blobURL\r\n\t                tempLink.setAttribute('download', filename)\r\n\t                if (typeof tempLink.download === 'undefined') {\r\n\t                tempLink.setAttribute('target', '_blank')\r\n\t                }\r\n\t                \r\n\t                document.body.appendChild(tempLink)\r\n\t                tempLink.click()\r\n\t                document.body.removeChild(tempLink)\r\n\t                window.URL.revokeObjectURL(blobURL)\r\n\t            }\r\n\t        }\r\n\t\t}\r\n\t};\r\n</script>\r\n<style scoped>\r\n\timg{\r\n\t\twidth: 70px;height: 70px;\r\n\t}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/page/home/banner.vue","import service from '@/request/http.js'\r\nimport qs from 'qs'\r\nexport function bannerPage(data,ID) {  // 微信用户列表\r\n\t\t\t\r\n  return service({\r\n    url: '/admin/weixin/find_page',\r\n    method: 'post',\r\n    data:data,\r\n\t\theaders: {\r\n\t\t\t'sessionId': ID,\r\n\t\t}\r\n  })\r\n}\r\n\r\nexport function bannerDetail(data,ID) {  // 详情\r\n  return service({\r\n    url: '/admin/weixin/find_detail?'+qs.stringify(data),\r\n    method: 'post',\r\n\t\theaders: {\r\n\t\t\t'sessionId': ID,\r\n\t\t}\r\n  })\r\n}\r\n\r\nexport function exportBannerExcel(data,ID) {  // 导出用户列表\r\n  return service({\r\n    url: '/admin/weixin/exportList',\r\n    method: 'post',\r\n\t\tdata:data,\r\n\t\tresponseType: 'arraybuffer',\r\n\t\theaders: {\r\n\t\t\t'sessionId': ID,\r\n\t\t}\r\n  })\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api/banner.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"w-100 h-100 p-15\"},[_c('el-breadcrumb',{staticClass:\"p-15 b-b-f0\",attrs:{\"separator\":\"/\",\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-button',{staticClass:\"right\",attrs:{\"size\":\"mini\",\"plain\":\"\"},on:{\"click\":_vm.exportExcel}},[_vm._v(\"导出数据\")]),_vm._v(\" \"),_c('el-breadcrumb-item',[_vm._v(\"用户管理\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"w-100 p-15\"},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":6}},[_c('div',{staticClass:\"flex w-100\"},[_c('em',{staticClass:\"nowrap\",staticStyle:{\"line-height\":\"40px\"}},[_vm._v(\"微信名：\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.weixinName),callback:function ($$v) {_vm.weixinName=$$v},expression:\"weixinName\"}})],1)]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('div',{staticClass:\"flex w-100\"},[_c('em',{staticClass:\"nowrap\",staticStyle:{\"line-height\":\"40px\"}},[_vm._v(\"性别：\")]),_vm._v(\" \"),_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.sex),callback:function ($$v) {_vm.sex=$$v},expression:\"sex\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1)]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('el-button',{on:{\"click\":_vm.search}},[_vm._v(\"查询\")])],1)],1)],1),_vm._v(\" \"),_c('el-table',{staticClass:\"w-100 p-15\",attrs:{\"data\":_vm.tableData,\"stripe\":\"\",\"default-sort\":{prop: 'startTime', order: 'descending'}}},[_c('el-table-column',{attrs:{\"label\":\"头像\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('img',{attrs:{\"src\":scope.row.headimgurl},on:{\"error\":_vm.errorImg}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"微信名\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(scope.row.nickname)+\"\\n\\t\\t\\t\\t\\t\")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"年龄\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(scope.row.age)+\"\\n\\t\\t\\t\\t\\t\")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"性别\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(scope.row.sex ==1?'男':'女')+\"\\n\\t\\t\\t\\t\\t\")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"设备激活日期\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(scope.row.startTime+'('+scope.row.intervalDays+'天)')+\"\\n\\t\\t\\t\\t\\t\")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"设备数\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(scope.row.deviceNum)+\"\\n\\t\\t\\t\\t\\t\")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"设备型号\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.disposeDate(scope.row.deviceHistories))+\"\\n\\t\\t\\t\\t\\t\")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"最后一次使用设备\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(scope.row.lastUseTime+'('+scope.row.city+')')+\"\\n\\t\\t\\t\\t\\t\")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{staticClass:\"elbut\",attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleEdit(scope.$index, scope.row)}}},[_vm._v(\"详情\")])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"text-center p-t-30\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.data.currentPage,\"page-sizes\":[10, 20, 30, 40],\"page-size\":_vm.data.pageSize,\"layout\":\"total,slot, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}},[_c('span',[_vm._v(\"第\"+_vm._s(_vm.data.currentPage)+\" / \"+_vm._s(_vm.totalsPage)+\"页\")])])],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1ab75fe5\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/home/banner.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true,\\\"importLoaders\\\":20}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1ab75fe5\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./banner.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./banner.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./banner.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1ab75fe5\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./banner.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1ab75fe5\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/home/banner.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}