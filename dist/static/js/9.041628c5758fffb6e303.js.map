{"version":3,"sources":["webpack:///src/page/column/detail.vue","webpack:///./src/page/column/detail.vue?b96e","webpack:///./src/page/column/detail.vue"],"names":["detail","name","components","data","enter","allDate","created","mounted","this","JSON","parse","localStorage","getItem","init","methods","_this","param","id","$router","currentRoute","query","Object","colum","sessionId","then","res","console","log","bussData","exportExcel","_this2","fileDownload","catch","error","$message","showClose","message","type","fileName","blob","Blob","filename","window","navigator","msSaveBlob","blobURL","URL","createObjectURL","tempLink","document","createElement","style","display","href","setAttribute","download","body","appendChild","click","removeChild","revokeObjectURL","getNums","val1","val2","num","toFixed","disposeDate","date","map","item","join","column_detail","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","separator","separator-class","size","on","_v","_s","model","bombName","onDate","monthPeopleNum","allPeopleNum","monthUseNum","monthMouthNum","allMouthNum","allUseNum","ecTypes","src","imageUrl","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/9.041628c5758fffb6e303.js","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<div class=\"w-100 h-100 p-15\">\r\n\t\t\t<el-breadcrumb separator=\"/\" separator-class=\"el-icon-arrow-right\" class=\"p-15 b-b-f0\">\r\n\t\t\t\t<el-button size=\"mini\" class=\"right\" @click=\"exportExcel\">导出数据</el-button>\r\n\t\t\t\t<el-breadcrumb-item>设备管理》详情</el-breadcrumb-item>\r\n\t\t\t</el-breadcrumb>\r\n\t\t\t<div class=\"w-100 p-15 user-detail-wrap\">\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t<li class=\"list\">\r\n\t\t\t\t\t\t<span>设备型号</span><span>{{allDate.model}}</span>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li class=\"list\">\r\n\t\t\t\t\t\t<span>烟弹类型</span><span>{{allDate.bombName == 'kao'?'烤烟型':'烟油型'}}</span>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li class=\"list\">\r\n\t\t\t\t\t\t<span>上市日期</span><span>{{allDate.onDate}}</span>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li class=\"list\">\r\n\t\t\t\t\t\t<span>当月使用该型号/全部激活比</span><span>{{ getNums(allDate.monthPeopleNum,allDate.allPeopleNum) }}%</span>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li class=\"list\">\r\n\t\t\t\t\t\t<span>当月吸烟支数</span><span>{{allDate.monthUseNum}}</span>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li class=\"list\">\r\n\t\t\t\t\t\t<span>该型号当月平均每支口数</span><span>{{ getNums(allDate.monthMouthNum,allDate.monthUseNum) }}</span>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li class=\"list\">\r\n\t\t\t\t\t\t<span>该型号总共吸烟支数</span><span>{{allDate.allMouthNum}}</span>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li class=\"list\">\r\n\t\t\t\t\t\t<span>该型号总平均每支口数</span><span>{{ getNums(allDate.allMouthNum,allDate.allUseNum) }}</span>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t<li class=\"list\">\r\n\t\t\t\t\t\t<span>支持烟型</span><span>{{ disposeDate(allDate.ecTypes) }}</span>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li class=\"list\">\r\n\t\t\t\t\t\t<span>设备照片</span>\r\n\t\t\t\t\t\t<img :src=\"allDate.imageUrl\" />\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n \r\n<script>\r\n\timport {columDetail,exportDetail} from '@/api/colum'\r\n\texport default {\r\n\t\tname: \"columnDetail\",\r\n\t\tcomponents: {\r\n\t\t\t\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tenter:{},\r\n\t\t\t\tallDate:{},// 总数据\r\n\t\t\t};\r\n\t\t},\r\n\t\tcreated() {},\r\n\t\tmounted() {\r\n\t\t\tthis.enter = JSON.parse(localStorage.getItem(\"enter\"));\r\n\t\t\tthis.init()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tinit(){\r\n\t\t\t\tconst param = {\r\n\t\t\t\t\t  id:this.$router.currentRoute.query.id\r\n\t\t\t\t\t}\r\n\t\t\t\tcolumDetail(param,this.enter.sessionId).then((res)=>{\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tthis.allDate = res.bussData\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\texportExcel(){\r\n\t\t\t\tconst param = {\r\n\t\t\t\t\tid:this.$router.currentRoute.query.id\r\n\t\t\t\t}\r\n\t\t\t\texportDetail(param,this.enter.sessionId).then((res)=>{\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tconst filename = '设备详情.xlsx'\r\n\t\t\t\t\tthis.fileDownload(res, filename)\r\n\t\t\t\t}).catch((error)=>{\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\tshowClose: true,\r\n\t\t\t\t\t\tmessage: error,\r\n\t\t\t\t\t\ttype: 'error'\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tfileDownload(data, fileName) {\r\n\t\t\t        const blob = new Blob([data], {\r\n\t\t\t            type: 'application/octet-stream'\r\n\t\t\t        })\r\n\t\t\t       \r\n\t\t\t        const filename = fileName || 'filename.xlsx'\r\n\t\t\t        if (typeof window.navigator.msSaveBlob !== 'undefined') {\r\n\t\t\t            window.navigator.msSaveBlob(blob, filename)\r\n\t\t\t        } else {\r\n\t\t\t            var blobURL = window.URL.createObjectURL(blob)\r\n\t\t\t            var tempLink = document.createElement('a')\r\n\t\t\t            tempLink.style.display = 'none'\r\n\t\t\t            tempLink.href = blobURL\r\n\t\t\t            tempLink.setAttribute('download', filename)\r\n\t\t\t            if (typeof tempLink.download === 'undefined') {\r\n\t\t\t            tempLink.setAttribute('target', '_blank')\r\n\t\t\t            }\r\n\t\t\t            \r\n\t\t\t            document.body.appendChild(tempLink)\r\n\t\t\t            tempLink.click()\r\n\t\t\t            document.body.removeChild(tempLink)\r\n\t\t\t            window.URL.revokeObjectURL(blobURL)\r\n\t\t\t        }\r\n\t\t\t},\r\n\t\t\tgetNums(val1,val2){  // 计算，处理数据\r\n\t\t\t\tif(val1 == 0 || val2 == 0){\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\t\t\t\tlet num = (val1/val2).toFixed(4);\r\n\t\t\t\tconsole.log(num)\r\n\t\t\t\treturn num;\r\n\t\t\t},\r\n\t\t\tdisposeDate(date){  // 处理数据\r\n\t\t\t\tif(!date)return\r\n\t\t\t\tlet value = date.map((item)=>{\r\n\t\t\t\t\treturn item.name\r\n\t\t\t\t})\r\n\t\t\t\treturn value.join(' ');\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n\t.user-detail-wrap{\r\n\t\tdisplay: flex;\r\n\t\tul{\r\n\t\t\tflex: 1;\r\n\t\t}\r\n\t}\r\n\t.list{\r\n\t\tpadding-bottom: 32px;\r\n\t\tspan:nth-child(1){\r\n\t\t\tvertical-align: top;\r\n\t\t\tfont-size: 14px;\r\n\t\t\tpadding-right: 30px;\r\n\t\t\twidth: 250px;\r\n\t\t\tdisplay: inline-block;\r\n\t\t}\r\n\t\tspan:nth-child(2){\r\n\t\t\tcolor:#757575;\r\n\t\t}\r\n\t\timg{\r\n\t\t\twidth: 222px;height: 133px;\r\n\t\t}\r\n\t}\r\n\t\r\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/page/column/detail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"w-100 h-100 p-15\"},[_c('el-breadcrumb',{staticClass:\"p-15 b-b-f0\",attrs:{\"separator\":\"/\",\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-button',{staticClass:\"right\",attrs:{\"size\":\"mini\"},on:{\"click\":_vm.exportExcel}},[_vm._v(\"导出数据\")]),_vm._v(\" \"),_c('el-breadcrumb-item',[_vm._v(\"设备管理》详情\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"w-100 p-15 user-detail-wrap\"},[_c('ul',[_c('li',{staticClass:\"list\"},[_c('span',[_vm._v(\"设备型号\")]),_c('span',[_vm._v(_vm._s(_vm.allDate.model))])]),_vm._v(\" \"),_c('li',{staticClass:\"list\"},[_c('span',[_vm._v(\"烟弹类型\")]),_c('span',[_vm._v(_vm._s(_vm.allDate.bombName == 'kao'?'烤烟型':'烟油型'))])]),_vm._v(\" \"),_c('li',{staticClass:\"list\"},[_c('span',[_vm._v(\"上市日期\")]),_c('span',[_vm._v(_vm._s(_vm.allDate.onDate))])]),_vm._v(\" \"),_c('li',{staticClass:\"list\"},[_c('span',[_vm._v(\"当月使用该型号/全部激活比\")]),_c('span',[_vm._v(_vm._s(_vm.getNums(_vm.allDate.monthPeopleNum,_vm.allDate.allPeopleNum))+\"%\")])]),_vm._v(\" \"),_c('li',{staticClass:\"list\"},[_c('span',[_vm._v(\"当月吸烟支数\")]),_c('span',[_vm._v(_vm._s(_vm.allDate.monthUseNum))])]),_vm._v(\" \"),_c('li',{staticClass:\"list\"},[_c('span',[_vm._v(\"该型号当月平均每支口数\")]),_c('span',[_vm._v(_vm._s(_vm.getNums(_vm.allDate.monthMouthNum,_vm.allDate.monthUseNum)))])]),_vm._v(\" \"),_c('li',{staticClass:\"list\"},[_c('span',[_vm._v(\"该型号总共吸烟支数\")]),_c('span',[_vm._v(_vm._s(_vm.allDate.allMouthNum))])]),_vm._v(\" \"),_c('li',{staticClass:\"list\"},[_c('span',[_vm._v(\"该型号总平均每支口数\")]),_c('span',[_vm._v(_vm._s(_vm.getNums(_vm.allDate.allMouthNum,_vm.allDate.allUseNum)))])])]),_vm._v(\" \"),_c('ul',[_c('li',{staticClass:\"list\"},[_c('span',[_vm._v(\"支持烟型\")]),_c('span',[_vm._v(_vm._s(_vm.disposeDate(_vm.allDate.ecTypes)))])]),_vm._v(\" \"),_c('li',{staticClass:\"list\"},[_c('span',[_vm._v(\"设备照片\")]),_vm._v(\" \"),_c('img',{attrs:{\"src\":_vm.allDate.imageUrl}})])])])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-297bb8e1\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/page/column/detail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true,\\\"importLoaders\\\":20}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-297bb8e1\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader!sass-resources-loader?{\\\"resources\\\":[\\\"E:\\\\\\\\self\\\\\\\\个人旧经典项目\\\\\\\\selfwolk\\\\\\\\src\\\\\\\\assets\\\\\\\\css\\\\\\\\public.less\\\"]}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./detail.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./detail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./detail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-297bb8e1\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./detail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-297bb8e1\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/column/detail.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}