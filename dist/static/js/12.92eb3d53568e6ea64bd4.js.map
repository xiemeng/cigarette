{"version":3,"sources":["webpack:///src/page/column/column.vue","webpack:///./src/page/column/column.vue?208a","webpack:///./src/page/column/column.vue"],"names":["column","name","components","data","enter","total","totalsPage","pageSize","currentPage","tableData","form","created","mounted","this","JSON","parse","localStorage","getItem","init","methods","_this","param","pageIndex","isVisible","Object","colum","sessionId","then","res","console","log","bussData","count","pageCount","toLink","i","$router","push","path","handleDelete","tips","row","_this2","$confirm","confirmButtonText","cancelButtonText","type","center","id","$message","message","catch","goexportList","_this3","weixinName","nicknameLike","sex","fileDownload","error","showClose","goDetail","item","query","goAdd","date","handleSizeChange","val","handleCurrentChange","getNums","val1","val2","toFixed","disposeDate","map","join","fileName","blob","Blob","filename","window","navigator","msSaveBlob","blobURL","URL","createObjectURL","tempLink","document","createElement","style","display","href","setAttribute","download","body","appendChild","click","removeChild","revokeObjectURL","column_column","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","separator","separator-class","size","on","_v","$event","stripe","label","scopedSlots","_u","key","fn","scope","_s","model","src","imageUrl","bombName","ecTypes","onDate","width","monthPeopleNum","allPeopleNum","monthUseNum","monthMouthNum","plain","$index","current-page","page-sizes","page-size","layout","size-change","current-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/12.92eb3d53568e6ea64bd4.js","sourcesContent":["<template>\r\n\t<div>\r\n\t\t\t<div class=\"w-100 h-100 p-15\">\r\n\t\t\t\t<el-breadcrumb separator=\"/\" separator-class=\"el-icon-arrow-right\" class=\"p-15 b-b-f0\">\r\n\t\t\t\t\t<el-button size=\"mini\" class=\"right\" @click=\"goexportList\">导出数据</el-button>\r\n\t\t\t\t\t<el-button class=\"elbut elbut2 right\" size=\"mini\" @click=\"goAdd('add')\">新增</el-button>\r\n\t\t\t\t\t<el-breadcrumb-item>设备管理</el-breadcrumb-item>\r\n\t\t\t\t</el-breadcrumb>\r\n\t\t\t\t\r\n\t\t\t\t<el-table :data=\"tableData\" class=\"w-100 p-15\" stripe>\r\n\t\t\t\t\t<el-table-column label=\"设备型号\">\r\n\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t{{scope.row.model}}\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t<el-table-column label=\"设备照片\">\r\n\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t<img :src=\"scope.row.imageUrl\" />\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t<el-table-column label=\"烟弹类型\">\r\n\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t{{ scope.row.bombName == 'kao'?'烤烟型':'烟油型' }}\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t<el-table-column label=\"支持烟型\">\r\n\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t{{ disposeDate(scope.row.ecTypes) }}\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t<el-table-column label=\"上市日期\">\r\n\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t{{ scope.row.onDate}}\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t<el-table-column label=\"当月使用人/全部激活比\" width=\"200\">\r\n\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t{{ getNums(scope.row.monthPeopleNum,scope.row.allPeopleNum) }}\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t<el-table-column label=\"当月吸烟支数\">\r\n\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t{{ scope.row.monthUseNum }}支\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t<el-table-column label=\"当月平均每支口数\">\r\n\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t{{ getNums(scope.row.monthMouthNum,scope.row.monthUseNum) }}口\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t<el-table-column label=\"操作\" width=\"240\">\r\n\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t<el-button class=\"elbut\" size=\"mini\" plain @click=\"goDetail(scope.$index, scope.row)\">详情</el-button>\r\n\t\t\t\t\t\t\t<el-button class=\"elbut\" size=\"mini\" plain @click=\"goAdd(scope.$index, scope.row)\">编辑</el-button>\r\n\t\t\t\t\t\t\t<el-button size=\"mini\" type=\"danger\" @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t</el-table>\r\n\t\t\t\t<div class=\"text-center p-t-30\">\r\n\t\t\t\t\t<el-pagination \r\n\t\t\t\t\t\t@size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" \r\n\t\t\t\t\t\t:current-page=\"data.currentPage\" :page-sizes=\"[10, 20, 30, 40]\" \r\n\t\t\t\t\t\t:page-size=\"data.pageSize\" layout=\"total,slot, sizes, prev, pager, next, jumper\" \r\n\t\t\t\t\t\t:total=\"total\">\r\n\t\t\t\t\t\t\t<span>第{{data.currentPage}} / {{totalsPage}}页</span>\r\n\t\t\t\t\t</el-pagination>\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport {columPage,exportList,columDelete} from '@/api/colum'\r\n\texport default {\r\n\t\tname: \"column\",\r\n\t\tcomponents: {\r\n\t\t\t\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tenter:{},\r\n\t\t\t\ttotal:0,  // 总数据条数\r\n\t\t\t\ttotalsPage:0, // 总分页数\r\n\t\t\t\tdata:{  // 分页 相关信息\r\n\t\t\t\t\tpageSize:10,\r\n\t\t\t\t\tcurrentPage:1,\r\n\t\t\t\t},\r\n\t\t\t\ttableData: [],\r\n\t\t\t\tform:{\r\n\t\t\t\t\tname:''\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t};\r\n\t\t},\r\n\t\tcreated() {},\r\n\t\tmounted() {\r\n\t\t\tthis.enter = JSON.parse(localStorage.getItem(\"enter\"));\r\n\t\t\tthis.init()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tinit(){\r\n\t\t\t\tconst param = {\r\n\t\t\t\t\t  \"pageIndex\": this.data.currentPage,\r\n\t\t\t\t\t  \"pageSize\": this.data.pageSize,\r\n\t\t\t\t\t  \"isVisible\":'y'\r\n\t\t\t\t\t}\r\n\t\t\t\tcolumPage(param,this.enter.sessionId).then((res)=>{\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tthis.tableData = res.bussData;\r\n\t\t\t\t\tthis.total = res.count;\r\n\t\t\t\t\tthis.totalsPage = res.pageCount;\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\ttoLink(i) {\r\n\t\t\t\tthis.$router.push({\r\n\t\t\t\t\tpath: i\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\thandleDelete(tips,row){ // 删除\r\n\t\t\t\tthis.$confirm('此操作将永久删除该文件, 是否继续?', '提示', {\r\n\t\t\t\t  confirmButtonText: '确定',\r\n\t\t\t\t  cancelButtonText: '取消',\r\n\t\t\t\t  type: 'warning',\r\n\t\t\t\t  center: true\r\n\t\t\t\t}).then(() => {\r\n\t\t\t\t\tconst param = {\r\n\t\t\t\t\t \"id\": row.id\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcolumDelete(param,this.enter.sessionId).then((res)=>{\r\n\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\tif(!res)return\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\tmessage: '删除成功!'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.init()\r\n\t\t\t\t\t})\r\n\t\t\t\t  \r\n\t\t\t\t}).catch(() => {\r\n\t\t\t\t  this.$message({\r\n\t\t\t\t\ttype: 'info',\r\n\t\t\t\t\tmessage: '已取消删除'\r\n\t\t\t\t  });\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgoexportList(){  // 导出数据\r\n\t\t\t\tconst param = {\r\n\t\t\t\t\t  \"pageIndex\": this.data.currentPage,\r\n\t\t\t\t\t  \"pageSize\": this.data.pageSize,\r\n\t\t\t\t\t}\r\n\t\t\t\tif(this.weixinName){\r\n\t\t\t\t\tparam.nicknameLike = this.weixinName\r\n\t\t\t\t}\r\n\t\t\t\tif(this.sex){\r\n\t\t\t\t\tparam.sex = this.sex;\r\n\t\t\t\t}\r\n\t\t\t\texportList(this.enter.sessionId).then((res)=>{\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tconst filename = '设备列表.xlsx'\r\n\t\t\t\t\tthis.fileDownload(res, filename)\r\n\t\t\t\t}).catch((error)=>{\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\tshowClose: true,\r\n\t\t\t\t\t\tmessage: error,\r\n\t\t\t\t\t\ttype: 'error'\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgoDetail(item,row) {  // 去详情\r\n\t\t\t\tconsole.log(item,row)\r\n\t\t\t\tthis.$router.push({\r\n\t\t\t\t\tpath: '/column/column/detail',\r\n\t\t\t\t\tquery:{id:row.id}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgoAdd(tips,date) {  // 去添加\r\n\t\t\t\tconsole.log(tips,date)\r\n\t\t\t\tif(tips == 'add'){  // 新增\r\n\t\t\t\t\tthis.$router.push({\r\n\t\t\t\t\t\tpath: '/column/column/add',\r\n\t\t\t\t\t\tquery:{tips:'add'}\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.$router.push({\r\n\t\t\t\t\t\tpath: '/column/column/add',\r\n\t\t\t\t\t\tquery:{id:date.id}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\thandleSizeChange(val) {\r\n\t\t\t\tthis.data.pageSize = val\r\n\t\t\t\tthis.init()\r\n\t\t\t},\r\n\t\t\thandleCurrentChange(val) {\r\n\t\t\t\tthis.data.currentPage = val\r\n\t\t\t\tthis.init()\r\n\t\t\t},\r\n\t\t\tgetNums(val1,val2){  // 计算，处理数据\r\n\t\t\t\tif(val1 == 0 || val2 == 0){\r\n\t\t\t\t\treturn '0';\r\n\t\t\t\t}\r\n\t\t\t\tlet num = (val1/val2).toFixed(2);\r\n\t\t\t\treturn num;\r\n\t\t\t},\r\n\t\t\tdisposeDate(date){  // 处理数据\r\n\t\t\t\tlet value = date.map((item)=>{\r\n\t\t\t\t\treturn item.name\r\n\t\t\t\t})\r\n\t\t\t\treturn value.join(' ');\r\n\t\t\t},\r\n\t\t\tfileDownload(data, fileName) {\r\n\t\t\t    const blob = new Blob([data], {\r\n\t\t\t        type: 'application/octet-stream'\r\n\t\t\t    })\r\n\t\t\t    const filename = fileName || 'filename.xlsx'\r\n\t\t\t    if (typeof window.navigator.msSaveBlob !== 'undefined') {\r\n\t\t\t        window.navigator.msSaveBlob(blob, filename)\r\n\t\t\t    } else {\r\n\t\t\t        var blobURL = window.URL.createObjectURL(blob)\r\n\t\t\t        var tempLink = document.createElement('a')\r\n\t\t\t        tempLink.style.display = 'none'\r\n\t\t\t        tempLink.href = blobURL\r\n\t\t\t        tempLink.setAttribute('download', filename)\r\n\t\t\t        if (typeof tempLink.download === 'undefined') {\r\n\t\t\t        tempLink.setAttribute('target', '_blank')\r\n\t\t\t        }\r\n\t\t\t        \r\n\t\t\t        document.body.appendChild(tempLink)\r\n\t\t\t        tempLink.click()\r\n\t\t\t        document.body.removeChild(tempLink)\r\n\t\t\t        window.URL.revokeObjectURL(blobURL)\r\n\t\t\t    }\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n<style scoped>\r\n\t.elbut2{\r\n\t\tmargin-right:20px;\r\n\t}\r\n\t.el-button+.el-button{\r\n\t\tmargin-left: 5px;\r\n\t}\r\n\timg{\r\n\t\twidth: 82px;height: 52px;\r\n\t\tobject-fit: cover;\r\n\t}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/page/column/column.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"w-100 h-100 p-15\"},[_c('el-breadcrumb',{staticClass:\"p-15 b-b-f0\",attrs:{\"separator\":\"/\",\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-button',{staticClass:\"right\",attrs:{\"size\":\"mini\"},on:{\"click\":_vm.goexportList}},[_vm._v(\"导出数据\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"elbut elbut2 right\",attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.goAdd('add')}}},[_vm._v(\"新增\")]),_vm._v(\" \"),_c('el-breadcrumb-item',[_vm._v(\"设备管理\")])],1),_vm._v(\" \"),_c('el-table',{staticClass:\"w-100 p-15\",attrs:{\"data\":_vm.tableData,\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"设备型号\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(scope.row.model)+\"\\n\\t\\t\\t\\t\\t\")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"设备照片\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('img',{attrs:{\"src\":scope.row.imageUrl}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"烟弹类型\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(scope.row.bombName == 'kao'?'烤烟型':'烟油型')+\"\\n\\t\\t\\t\\t\\t\")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"支持烟型\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.disposeDate(scope.row.ecTypes))+\"\\n\\t\\t\\t\\t\\t\")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"上市日期\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(scope.row.onDate)+\"\\n\\t\\t\\t\\t\\t\")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"当月使用人/全部激活比\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.getNums(scope.row.monthPeopleNum,scope.row.allPeopleNum))+\"\\n\\t\\t\\t\\t\\t\")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"当月吸烟支数\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(scope.row.monthUseNum)+\"支\\n\\t\\t\\t\\t\\t\")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"当月平均每支口数\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.getNums(scope.row.monthMouthNum,scope.row.monthUseNum))+\"口\\n\\t\\t\\t\\t\\t\")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"240\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{staticClass:\"elbut\",attrs:{\"size\":\"mini\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.goDetail(scope.$index, scope.row)}}},[_vm._v(\"详情\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"elbut\",attrs:{\"size\":\"mini\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.goAdd(scope.$index, scope.row)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(scope.$index, scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"text-center p-t-30\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.data.currentPage,\"page-sizes\":[10, 20, 30, 40],\"page-size\":_vm.data.pageSize,\"layout\":\"total,slot, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}},[_c('span',[_vm._v(\"第\"+_vm._s(_vm.data.currentPage)+\" / \"+_vm._s(_vm.totalsPage)+\"页\")])])],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-714533f4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/column/column.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true,\\\"importLoaders\\\":20}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-714533f4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./column.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./column.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./column.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-714533f4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./column.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-714533f4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/column/column.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}